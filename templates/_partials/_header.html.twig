<header
        class="sticky top-0 z-999 flex w-full bg-white drop-shadow-1 dark:bg-boxdark dark:drop-shadow-none"
>
    <div
            class="flex flex-grow items-center justify-between px-4 py-4 shadow-2 md:px-6 2xl:px-11"
    >
        <div class="flex items-center gap-2 sm:gap-4 {% if not toggleSidebar %}lg:hidden{% endif %}">
            <!-- Hamburger Toggle BTN -->
            {% block sidebar_toggler %}
                <button
                        data-action="click->sidebar#toggle"
                        class="z-99999 block rounded-sm border border-stroke bg-white p-1.5 shadow-sm dark:border-strokedark dark:bg-boxdark {% if not toggleSidebar %}lg:hidden{% endif %}"
                >
        <span class="relative block h-5.5 w-5.5 cursor-pointer">
          <span class="du-block absolute right-0 h-full w-full">
            <span
                    class="relative left-0 top-0 my-1 block h-0.5 w-full rounded-sm bg-black delay-[0] duration-200 ease-in-out dark:bg-white"
            ></span>
            <span
                    class="relative left-0 top-0 my-1 block h-0.5 w-full rounded-sm bg-black delay-150 duration-200 ease-in-out dark:bg-white"

            ></span>
            <span
                    class="relative left-0 top-0 my-1 block h-0.5 w-full rounded-sm bg-black delay-200 duration-200 ease-in-out dark:bg-white"
            ></span>
          </span>
        </span>
                </button>
            {% endblock %}
            <!-- Hamburger Toggle BTN -->
            <a class="block flex-shrink-0 lg:hidden" href="{{ path('app_dashboard') }}">
                <img src="{{ asset('images/logo/logo-omms.png') }}" class="w-8" alt="Logo" />
            </a>
        </div>
        <div class="block grow ml-4 {% if not toggleSidebar %}lg:ml-0{% endif %}">
            {% if app.user and app.user.group %}
                <strong class="uppercase"><span class="hidden md:inline">{{ "label.group.jid"|trans }} : </span>{{ app.user.group.jid|default }}</strong>
            {% endif %}
        </div>
        <div class="flex items-center gap-3 2xsm:gap-7">
            <ul class="flex items-center gap-2 2xsm:gap-4">
                <li>
                    {% component Toggler with {'data-controller': 'darkmode', 'data-action': 'darkmode:enable->toggler#enable', actions: ['darkmode#toggle']} %}
                        {% block icons %}
                            {{ component('Icon', {
                                name: 'icon-sun',
                                class: '!size-4 dark:hidden text-[#969AA1]'
                            }) }}

                            {{ component('Icon', {
                                name: 'icon-moon',
                                class: '!size-4 hidden dark:inline-block text-[#969AA1]'
                            }) }}
                        {% endblock %}
                    {% endcomponent %}
                </li>
            </ul>

            <div
                    data-controller="dropdown"
                    class="relative"
            >
                <button
                        type="button"
                        data-action="click->dropdown#toggle"
                        class="w-full flex items-center gap-4"
                >
                    {{ app.locale|locale_name|title }}

                    {{ component('Icon', {
                        name: 'icon-caret-down',
                        'data-dropdown-target': 'icon',
                        class: 'hidden sm:block'
                    }) }}
                </button>

                <!-- Dropdown Start -->
                <div
                        data-dropdown-target="menu"
                        class="hidden absolute right-0 mt-4 flex w-30 flex-col rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark"
                >
                    <ul
                            class="flex flex-col gap-2 border-b border-stroke p-3 dark:border-strokedark"
                    >
                        {% for locale in app.enabled_locales|filter(l => l != app.locale) %}
                            <li translate="no">
                                <a class="flex items-center gap-3.5 text-sm font-medium duration-300 ease-in-out hover:text-primary lg:text-base" lang="{{ locale }}" hreflang="{{ locale }}"
                                   href="{{ path(app.current_route, app.current_route_parameters|merge({_locale: locale})) }}">
                                    {{ locale|locale_name(locale)|title }}
                                </a>
                            </li>
                        {% endfor %}
                    </ul>
                </div>
                <!-- Dropdown End -->
            </div>

            <!-- User Area -->
            {% if app.user %}
                <div
                        data-controller="dropdown"
                        class="relative"
                >
                    <button
                            type="button"
                            data-action="click->dropdown#toggle"
                            class="w-full flex items-center gap-4"
                    >
                      <span class="hidden text-right lg:block">
                        <span class="block text-sm font-medium text-black dark:text-white"
                        >{{ app.user.firstname }}</span
                        >
                          {% if app.user.group %}
                              <span class="block text-xs font-medium">{{ app.user.group.name }}</span>
                          {% endif %}
                      </span>



                        <span class="font-medium relative inline-flex items-center justify-center w-12 h-12 overflow-hidden bg-gray rounded-full">
                            {{ app.user.firstname|first|upper ~ app.user.lastname|first|upper }}
                        </span>

                        {{ component('Icon', {
                            name: 'icon-caret-down',
                            'data-dropdown-target': 'icon',
                            class: 'hidden sm:block'
                        }) }}
                    </button>

                    <!-- Dropdown Start -->
                    <div
                            data-dropdown-target="menu"
                            class="hidden absolute right-0 mt-4 flex w-62.5 flex-col rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark"
                    >
                        <ul
                                class="flex flex-col gap-5 border-b border-stroke px-6 py-7.5 dark:border-strokedark"
                        >
                            <li>
                                <a
                                        href="{{ path('app_profile') }}"
                                        class="flex items-center gap-3.5 text-sm font-medium duration-300 ease-in-out hover:text-primary lg:text-base"
                                >
                                    {{ component('Icon', {
                                        name: 'icon-user'
                                    }) }}
                                    {{ "label.my_profile"|trans }}
                                </a>
                            </li>
                        </ul>
                        <a href="{{ path('app_logout') }}"
                           class="flex items-center gap-3.5 px-6 py-4 text-sm font-medium duration-300 ease-in-out hover:text-primary lg:text-base"
                        >
                            {{ component('Icon', {
                                name: 'icon-logout'
                            }) }}
                            {{ "label.logout"|trans }}
                        </a>
                    </div>
                    <!-- Dropdown End -->
                </div>
            {% endif %}
            <!-- User Area -->
        </div>
    </div>
</header>
